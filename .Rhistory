str(refine_original)
library(readr)
refine_original <- read_csv("~/Desktop/refine_original.csv")
View(refine_original)
str(refine_original)
?gsub
?strsplit
#
?lower
??lower
?stringlower
if (refine_original$product_code == 'p') {
refine_original$product_category = 'Smartphone'
} else if (refine_original$product_code == 'v') {
refine_original$product_category = 'TV'
} else if (refine_original$product_code == 'x') {
refine_original$product_category = 'Laptop'
} else if (refine_original$product_code == 'q') {
refine_original$product_category = 'Tablet'
}
?strsplit
r
str(refine_original)
refine_original$product_number = '43'
source('~/Desktop/Springboard3A/Script1.R')
source('~/Desktop/Springboard3A/Script1.R')
gsub('^.*i.*lips$', 'philips', refine_original$company, ignore.case = TRUE)
refine_original$product_code = 'p'
str(refine_original)
library(readr)
refine_original <- read_csv("~/Desktop/refine_original.csv")
View(refine_original)
view(refine_original)
View(refine_original)
view(refine_original)
unlist(strsplit(refine_original$`Product code / number`,"[-]"))
strsplit(refine_original$`Product code / number`,"[-]")
unlist(strsplit(refine_original$`Product code / number`,"[-]"))
strsplit(refine_original$`Product code / number`,"[-]")[[0]]
strsplit(refine_original$`Product code / number`,"[-]")[0]
unlist(strsplit(refine_original$`Product code / number`,"[-]")[0])
unlist(strsplit(refine_original$`Product code / number`,"[-]")[[0]])
unlist(strsplit(refine_original$`Product code / number`,"[-]")[0])
list(strsplit(refine_original$`Product code / number`,"[-]")[0])
list(strsplit(refine_original$`Product code / number`,"[-]")[[0])
list(strsplit(refine_original$`Product code / number`,"[-]")[[0]])
strsplit(refine_original$`Product code / number`,"[-]")
substr(refine_original$`Product code / number`, start = 1, stop = 1)
substr(refine_original$`Product code / number`, start = 2, stop = 2)
View(refine_original)
substr(refine_original$`Product code / number`, start = 3)
substr(refine_original$`Product code / number`, start = 3, stop = "end")
substr(refine_original$`Product code / number`, start = 3, stop = "last")
substr(refine_original$`Product code / number`, start = 3, stop = "3")
substr(refine_original$`Product code / number`, start = 3, stop = "4")
paste(refine_original$address, refine_original$city, refine_original$country, sep = " ")
refine_original$`Product code / number`[1] = p
refine_original$`Product code / number`[1]="p"
refine_original$`Product code / number`[0]="p"
unlist(refine_original$`Product code / number`[1]="p")
unlist(refine_original$`Product code / number`[0]="p")
substr(refine_original$`Product code / number`, start = 1, stop = 1)
(substr(refine_original$`Product code / number`, start = 1, stop = 1))="p"
substr(refine_original$`Product code / number`, start = 1, stop = 1)
substr(refine_original$`Product code / number`, start = 1, stop = 1)
if (substr(refine_original$`Product code / number`, start = 1, stop = 1) = "p") {print("Smartphone")}
if (substr(refine_original$`Product code / number`, start = 1, stop = 1)=="p") {print("Smartphone")}
refine_original$product_code <- substr(refine_original$`Product code / number`, start = 1, stop = 1)
View(refine_original)
refine_original$product_number <- substr(refine_original$`Product code / number`, start = 2, stop = 3)
View(refine_original)
refine_original$product_number <- substr(refine_original$`Product code / number`, start = 3, stop = 4)
View(refine_original)
refine_original$full_address <- paste(refine_original$address, refine_original$city, refine_original$country, sep = " ")
View(refine_original)
sapply(refine_original$company, tolower)
View(refine_original)
if (grep1("^p", refine_original, ignore.case = TRUE)) {refine_original$company <- "philips"}
if (grepl("^p", refine_original, ignore.case = TRUE)) {refine_original$company <- "philips"}
if (grep1("^p*", refine_original, ignore.case = TRUE)) {refine_original$company <- "philips"}
if (grepl("^p*", refine_original, ignore.case = TRUE)) {refine_original$company <- "philips"}
if (grepl("^p*", refine_original[0], ignore.case = TRUE)) {refine_original$company <- "philips"}
if (grepl("^p*", refine_original[1], ignore.case = TRUE)) {refine_original$company <- "philips"}
View(refine_original)
library(readr)
Script2 <- read_csv("~/Desktop/Springboard3A/Script2.R")
View(Script2)
View(refine_original)
View(refine_original)
View(refine_original)
View(refine_original)
library(readr)
refine_original <- read_csv("~/Desktop/refine_original.csv")
View(refine_original)
if (grepl("^p", refine_original[1], ignore.case = TRUE)) {refine_original$company <- "philips"}
View(refine_original)
if (grepl("^p", refine_original$company[1], ignore.case = TRUE)) {refine_original$company <- "philips"}
View(refine_original)
library(readr)
refine_original <- read_csv("~/Desktop/refine_original.csv")
View(refine_original)
refine_original$company[1]
refine_original$company[1][1]
refine_original$company
grepl("^p", refine_original$company, ignore.case = TRUE)
if (grep1("^p", refine_original$company, ignore.case = TRUE)) {refine_original$company <- "philips"}
if (grepl("^p", refine_original$company, ignore.case = TRUE)) {refine_original$company <- "philips"}
View(refine_original)
library(readr)
refine_original <- read_csv("~/Desktop/refine_original.csv")
View(refine_original)
gsub("^p", "philips", refine_original$company, ignore.case = TRUE)
gsub("^p*", "philips", refine_original$company, ignore.case = TRUE)
gsub("^p*s$", "philips", refine_original$company, ignore.case = TRUE)
gsub("^p*s$", "philips", refine_original$company, ignore.case = TRUE)
gsub("^p*$", "philips", refine_original$company, ignore.case = TRUE)
gsub("phllips", "philips", refine_original$company, ignore.case = TRUE)
grepl("^p", refine_original$company, ignore.case = TRUE)
grepl("^ph", refine_original$company, ignore.case = TRUE)
grepl("^ph*s$", refine_original$company, ignore.case = TRUE)
grepl("^ph*s", refine_original$company, ignore.case = TRUE)
grepl("^ph[a-z]+s", refine_original$company, ignore.case = TRUE)
gsub("^ph[a-z]+s", "philips", refine_original$company, ignore.case = TRUE)
gsub("^ak//s*z[o0]", "akzo", refine_original$company, ignore.case = TRUE)
gsub("^ak[ ]*z[o0]", "akzo", refine_original$company, ignore.case = TRUE)
gsub("^[ph|f][a-z]+s", "philips", refine_original$company, ignore.case = TRUE)
gsub("^uni[a-z]+ver", "unilever", refine_original$company, ignore.case = TRUE)
gsub("^uni[a-z]+r", "philips", refine_original$company, ignore.case = TRUE)
gsub("^van\\s[a-z]+ten", "van houten", refine_original$company, ignore.case = TRUE)
gsub("^van\\s[a-z]+ten", "van houten", refine_original$company, ignore.case = TRUE)
gsub("^van\\s[a-z]+ten", "van houten", refine_original$company, ignore.case = TRUE)
if (refine_original$product_code = "p" ) {
refine_original$product_category <- "Smartphone"
} else if (refine_original$product_code = "v" ) {
refine_original$product_category <- "TV"
}
if (refine_original$product_code = "p" ) {refine_original$product_category <- "Smartphone"}
View(refine_original)
refine_original$product_code <- substr(refine_original$`Product code / number`, start = 1, stop = 1)
refine_original$product_number <- substr(refine_original$`Product code / number`, start = 3, stop = 4)
View(refine_original)
if (refine_original$product_code = "p" ) {refine_original$product_category <- "Smartphone"}
if (refine_original$product_code="p") {refine_original$product_category <- "Smartphone"}
if (refine_original$product_code='p') {refine_original$product_category <- "Smartphone"}
if (refine_original$product_code = 'p') {refine_original$product_category <- "Smartphone"}
if (refine_original$product_code = p) {refine_original$product_category <- "Smartphone"}
if (refine_original$product_code == "p") {refine_original$product_category <- "Smartphone"}
if (refine_original$product_code[0] == "p") {refine_original$product_category <- "Smartphone"}
if (refine_original$product_code[1] == "p") {refine_original$product_category <- "Smartphone"}
View(refine_original)
refine_original$product_category <- refine_original$product_code
View(refine_original)
gsub("p", "Smartphone", refine_original$product_category, fixed = FALSE)
View(refine_original)
gsub("p", "Smartphone", refine_original$product_category, fixed = FALSE)
gsub("p", "Smartphone", refine_original$product_category)
View(refine_original)
gsub("v", "TV", refine_original$product_category, fixed = FALSE)
gsub("x", "Laptop", refine_original$product_category, fixed = FALSE)
gsub("q", "Tablet", refine_original$product_category, fixed = FALSE)
View(refine_original)
sub("x", "Laptop", refine_original$product_category, fixed = FALSE)
View(refine_original)
View(refine_original)
refine_original$product_category <- sub("x", "Laptop", refine_original$product_category, fixed = FALSE)
View(refine_original)
refine_original$product_category <- gsub("p", "Smartphone", refine_original$product_category, fixed = FALSE)
View(refine_original)
refine_original$product_category <- refine_original$product_code
View(refine_original)
refine_original$product_category <- sub("x", "Laptop", refine_original$product_category, fixed = FALSE)
refine_original$product_category <- sub("p", "Smartphone", refine_original$product_category, fixed = FALSE)
refine_original$product_category <- sub("v", "TV", refine_original$product_category, fixed = FALSE)
refine_original$product_category <- sub("q", "Tablet", refine_original$product_category, fixed = FALSE)
view(refine_original)
View(refine_original)
refine_original$product_category <- refine_original$product_code
View(refine_original)
refine_original$product_category <- sub("q", "Tablet", refine_original$product_category, fixed = FALSE)
refine_original$product_category <- sub("v", "TV", refine_original$product_category, fixed = FALSE)
refine_original$product_category <- sub("p", "Smartphone", refine_original$product_category, fixed = FALSE)
refine_original$product_category <- sub("x", "Laptop", refine_original$product_category, fixed = FALSE)
View(refine_original)
if (refine_original$company == "philips") {
refine_original$company_philips <- 1
} else {
refine_original$company_philips <- 0
}
View(refine_original)
refine_original$company <- gsub("^ph[a-z]+s", "philips", refine_original$company, ignore.case = TRUE)
refine_original$company <- gsub("^f[a-z]+s", "philips", refine_original$company, ignore.case = TRUE)
refine_original$company <- gsub("^ak[ ]*z[o0]", "akzo", refine_original$company, ignore.case = TRUE)
refine_original$company <- gsub("^uni[a-z]+r", "unilever", refine_original$company, ignore.case = TRUE)
refine_original$company <- gsub("^van\\s[a-z]+ten", "van houten", refine_original$company, ignore.case = TRUE)
View(refine_original)
if (refine_original$company == "philips") {
refine_original$company_philips <- 1
} else {
refine_original$company_philips <- 0
}
View(refine_original)
if (refine_original$company[n] == "philips") {
refine_original$company_philips[n] <- 1
} else {
refine_original$company_philips[n] <- 0
}
for () {}
for (n = 1:25) { if (refine_original$company[n] == "philips") {
+     refine_original$company_philips[n] <- 1
+ } else {
+     refine_original$company_philips[n] <- 0
+ } }
for (n in 1:25) { if (refine_original$company[n] == "philips") { refine_original$company_philips[n] <- 1} }
View(refine_original)
View(refine_original)
company_philips<-factor(1*(refine_original$company=="philips"))
View(company_philips)
company_akzo<-factor(1*(refine_original$company=="akzo"))
View(company_akzo)
company_van_houten<-factor(1*(refine_original$company=="van houten"))
company_unilever<-factor(1*(refine_original$company=="unilever"))
View(company_unilever)
View(company_van_houten)
View(refine_original)
product_smartphone<-factor(1*(refine_original$product_code=="p"))
View(product_smartphone)
product_tv<-factor(1*(refine_original$product_code=="v"))
product_laptop<-factor(1*(refine_original$product_code=="x"))
product_tablet<-factor(1*(refine_original$product_code=="q"))
View(product_laptop)
View(product_tablet)
View(product_tv)
library(readr)
refine_original <- read_csv("~/Desktop/refine_original.csv")
View(refine_original)
refine_original1 <- refine_original
View(refine_original1)
refine_original$company <- gsub("^ph[a-z]+s", "philips", refine_original$company, ignore.case = TRUE)
refine_original$company <- gsub("^f[a-z]+s", "philips", refine_original$company, ignore.case = TRUE)
refine_original$company <- gsub("^ak[ ]*z[o0]", "akzo", refine_original$company, ignore.case = TRUE)
refine_original$company <- gsub("^uni[a-z]+r", "unilever", refine_original$company, ignore.case = TRUE)
refine_original$company <- gsub("^van\\s[a-z]+ten", "van houten", refine_original$company, ignore.case = TRUE)
View(refine_original)
refine_original$product_code <- substr(refine_original$`Product code / number`, start = 1, stop = 1)
refine_original$product_number <- substr(refine_original$`Product code / number`, start = 3, stop = 4)
View(refine_original)
refine_original$product_category <- refine_original$product_code
View(refine_original)
refine_original$product_category <- sub("q", "Tablet", refine_original$product_category, fixed = FALSE)
View(refine_original)
refine_original$product_category <- sub("v", "TV", refine_original$product_category, fixed = FALSE)
#p = Smartphone
refine_original$product_category <- sub("p", "Smartphone", refine_original$product_category, fixed = FALSE)
#x = Laptop
refine_original$product_category <- sub("x", "Laptop", refine_original$product_category, fixed = FALSE)
View(refine_original)
refine_original$full_address <- paste(refine_original$address, refine_original$city, refine_original$country, sep = " ")
View(refine_original)
product_smartphone<-factor(1*(refine_original$product_code=="p"))
product_tv<-factor(1*(refine_original$product_code=="v"))
product_laptop<-factor(1*(refine_original$product_code=="x"))
product_tablet<-factor(1*(refine_original$product_code=="q"))
View(product_smartphone)
refine_original$product_smartphone<-product_smartphone
refine_original$product_laptop<-product_laptop
refine_original$product_tv<-product_tv
refine_original$product_tablet<-product_tablet
View(refine_original)
#company_philips
company_philips<-factor(1*(refine_original$company=="philips"))
#company_akzo
company_akzo<-factor(1*(refine_original$company=="akzo"))
#company_van_houten
company_van_houten<-factor(1*(refine_original$company=="van houten"))
#company_unilever
company_unilever<-factor(1*(refine_original$company=="unilever"))
refine_original$company_philips<-company_philips
refine_original$company_akzo<-company_akzo
refine_original$company_van_houten<-company_van_houten
refine_original$company_unilever<-company_unilever
View(refine_original)
refine_original<-refine_original1
refine_original
View(refine_original)
product_smartphone<-factor(1*(refine_original$product_code=="p"))
# cleaning up brand name
# philips
# akzo
# van houten
# unilever
#sapply(refine_original$company, tolower)
#gsub(" ", "", refine_original$company, fixed = TRUE)
refine_original$company <- gsub("^ph[a-z]+s", "philips", refine_original$company, ignore.case = TRUE)
refine_original$company <- gsub("^f[a-z]+s", "philips", refine_original$company, ignore.case = TRUE)
refine_original$company <- gsub("^ak[ ]*z[o0]", "akzo", refine_original$company, ignore.case = TRUE)
refine_original$company <- gsub("^uni[a-z]+r", "unilever", refine_original$company, ignore.case = TRUE)
refine_original$company <- gsub("^van\\s[a-z]+ten", "van houten", refine_original$company, ignore.case = TRUE)
# new column product code
refine_original$product_code <- substr(refine_original$`Product code / number`, start = 1, stop = 1)
# new column product number
refine_original$product_number <- substr(refine_original$`Product code / number`, start = 3, stop = 4)
# new column product category
refine_original$product_category <- refine_original$product_code
#q = Tablet
refine_original$product_category <- sub("q", "Tablet", refine_original$product_category, fixed = FALSE)
#v = TV
refine_original$product_category <- sub("v", "TV", refine_original$product_category, fixed = FALSE)
#p = Smartphone
refine_original$product_category <- sub("p", "Smartphone", refine_original$product_category, fixed = FALSE)
#x = Laptop
refine_original$product_category <- sub("x", "Laptop", refine_original$product_category, fixed = FALSE)
# four binary columns for company
#company_philips
company_philips<-factor(1*(refine_original$company=="philips"))
#company_akzo
company_akzo<-factor(1*(refine_original$company=="akzo"))
#company_van_houten
company_van_houten<-factor(1*(refine_original$company=="van houten"))
#company_unilever
company_unilever<-factor(1*(refine_original$company=="unilever"))
# four binary columns for product
product_smartphone<-factor(1*(refine_original$product_code=="p"))
product_tv<-factor(1*(refine_original$product_code=="v"))
product_laptop<-factor(1*(refine_original$product_code=="x"))
product_tablet<-factor(1*(refine_original$product_code=="q"))
#adding columns back to refine_original
refine_original$company_philips<-company_philips
refine_original$company_akzo<-company_akzo
refine_original$company_van_houten<-company_van_houten
refine_original$company_unilever<-company_unilever
refine_original$product_smartphone<-product_smartphone
refine_original$product_laptop<-product_laptop
refine_original$product_tv<-product_tv
refine_original$product_tablet<-product_tablet
# create new column full_address
refine_original$full_address <- paste(refine_original$address, refine_original$city, refine_original$country, sep = " ")
View(refine_original)
refine_original<-refine_original1
View(refine_original)
Rscript refine_original
refine_original<-refine_original1
Rscript Script2.R
Rscript
View(refine_original)
refine_clean <- Script2.R(refine_original)
setwd(~/Desktop/Springboard3A)
setwd('~/Desktop/Springboard3A')
source('Sript2.R')
setwd('sabyasachichaudhuri/Desktop/Springboard3A')
setwd('/home/Desktop/Springboard3A')
setwd('/sabyasachichaudhuri/Desktop/Springboard3A')
setwd('~/Desktop/Springboard3A')
source(Script2, local = "TRUE")
source(Script2, local = TRUE)
source(Script2.R, local = TRUE)
source(Script2.R, encoding = "r")
source("Script2.R")
View(refine_original)
